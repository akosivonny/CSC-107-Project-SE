import{t as u,j as s,u as j,F as v,a as g,B as i,T as t,P as c,b as a,G as d,E as x,H as b}from"./index-DbYJZ2L_.js";import{f as y}from"./formatters-Vh8rcKKL.js";import{G as n}from"./Grid-CxKDHTfu.js";import{C as f}from"./Chip-CfcJRCOp.js";const k=u(s.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),T=()=>{const r=j(),{getVisitorBookings:h}=v(),{user:l}=g(),m=[{id:"1",title:"Organic Farm Tour",date:"2024-02-28",time:"9:00 AM",spotsLeft:5},{id:"2",title:"Livestock Management Tour",date:"2024-03-05",time:"2:00 PM",spotsLeft:3}],o=l?h(l.email):[],p=e=>{switch(e){case"approved":return"success";case"rejected":return"error";default:return"warning"}};return s.jsxs(i,{sx:{p:3},children:[s.jsx(t,{variant:"h4",sx:{mb:4},children:"Visitor Dashboard"}),s.jsxs(n,{container:!0,spacing:3,children:[s.jsx(n,{item:!0,xs:12,children:s.jsxs(c,{elevation:3,sx:{p:3},children:[s.jsx(t,{variant:"h6",sx:{mb:2},children:"Quick Actions"}),s.jsxs(i,{sx:{display:"flex",gap:2},children:[s.jsx(a,{variant:"contained",startIcon:s.jsx(d,{}),onClick:()=>r("/visitor/tour"),children:"Start Virtual Tour"}),s.jsx(a,{variant:"contained",startIcon:s.jsx(k,{}),onClick:()=>r("/visitor/book"),children:"Book a Visit"}),s.jsx(a,{variant:"outlined",startIcon:s.jsx(x,{}),onClick:()=>r("/visitor/my-bookings"),children:"View My Bookings"})]})]})}),s.jsx(n,{item:!0,xs:12,md:6,children:s.jsxs(c,{elevation:3,sx:{p:3},children:[s.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[s.jsx(x,{sx:{mr:1,color:"primary.main"}}),s.jsx(t,{variant:"h6",children:"Recent Bookings"})]}),o.length>0?o.slice(0,3).map(e=>s.jsxs(i,{sx:{mb:2,p:2,bgcolor:"background.default",borderRadius:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(i,{children:[s.jsxs(t,{variant:"subtitle1",children:["Visit on ",b(new Date(e.visitDate),"PPP p")]}),s.jsxs(t,{variant:"body2",color:"text.secondary",children:["Group Size: ",e.groupSize," â€¢ Purpose: ",y(e.purpose)]})]}),s.jsx(f,{label:e.status.toUpperCase(),color:p(e.status),size:"small"})]},e.id)):s.jsx(t,{variant:"body2",color:"text.secondary",children:"No bookings found. Why not book a visit?"}),o.length>0&&s.jsx(i,{sx:{mt:2,textAlign:"right"},children:s.jsx(a,{variant:"text",onClick:()=>r("/visitor/my-bookings"),children:"View All Bookings"})})]})}),s.jsx(n,{item:!0,xs:12,md:6,children:s.jsxs(c,{elevation:3,sx:{p:3},children:[s.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[s.jsx(d,{sx:{mr:1,color:"primary.main"}}),s.jsx(t,{variant:"h6",children:"Upcoming Tours"})]}),m.map(e=>s.jsxs(i,{sx:{mb:2,p:2,bgcolor:"background.default",borderRadius:1},children:[s.jsx(t,{variant:"subtitle1",children:e.title}),s.jsxs(t,{variant:"body2",color:"text.secondary",children:[e.date," at ",e.time]}),s.jsxs(t,{variant:"body2",color:"primary",sx:{mt:1},children:[e.spotsLeft," spots remaining"]})]},e.id))]})})]})]})};export{T as default};
