import{r as $,g as cr,d as dr,h as gr,_ as pr,l as C,p as F,m as V,j as t,s as G,n as c,o as hr,q as ur,c as mr,t as vr,v as fr,T as d,P as xr,B as E,w as br,R as Or,x as H,y as Z}from"./index-ChLGGPnB.js";import{C as jr}from"./Container-CflqJAR6.js";import{G as h}from"./Grid-KMxruX-y.js";import{C as f,a as x}from"./CardContent-CI-Jq7jG.js";import{D as yr}from"./Divider-CoXMxGjM.js";import"./useThemeProps-CkcXm-VL.js";import"./dividerClasses-OPpZWiEp.js";const q=o=>{const n=$.useRef({});return $.useEffect(()=>{n.current=o}),n.current};function Cr(o){const{badgeContent:n,invisible:r=!1,max:s=99,showZero:i=!1}=o,g=q({badgeContent:n,max:s});let e=r;r===!1&&n===0&&!i&&(e=!0);const{badgeContent:l,max:a=s}=e?g:o,u=l&&Number(l)>a?`${a}+`:l;return{badgeContent:l,invisible:e,max:a,displayValue:u}}function Pr(o){return dr("MuiBadge",o)}const p=cr("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Rr=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],P=10,R=4,$r=o=>{const{color:n,anchorOrigin:r,invisible:s,overlap:i,variant:g,classes:e={}}=o,l={root:["root"],badge:["badge",g,s&&"invisible",`anchorOrigin${c(r.vertical)}${c(r.horizontal)}`,`anchorOrigin${c(r.vertical)}${c(r.horizontal)}${c(i)}`,`overlap${c(i)}`,n!=="default"&&`color${c(n)}`]};return hr(l,Pr,e)},Br=G("span",{name:"MuiBadge",slot:"Root",overridesResolver:(o,n)=>n.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),zr=G("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(o,n)=>{const{ownerState:r}=o;return[n.badge,n[r.variant],n[`anchorOrigin${c(r.anchorOrigin.vertical)}${c(r.anchorOrigin.horizontal)}${c(r.overlap)}`],r.color!=="default"&&n[`color${c(r.color)}`],r.invisible&&n.invisible]}})(({theme:o})=>{var n;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(12),minWidth:P*2,lineHeight:1,padding:"0 6px",height:P*2,borderRadius:P,zIndex:1,transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.enteringScreen}),variants:[...Object.keys(((n=o.vars)!=null?n:o).palette).filter(r=>{var s,i;return((s=o.vars)!=null?s:o).palette[r].main&&((i=o.vars)!=null?i:o).palette[r].contrastText}).map(r=>({props:{color:r},style:{backgroundColor:(o.vars||o).palette[r].main,color:(o.vars||o).palette[r].contrastText}})),{props:{variant:"dot"},style:{borderRadius:R,height:R*2,minWidth:R*2,padding:0}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${p.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${p.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${p.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${p.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${p.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="right"&&r.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${p.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="top"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${p.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:r})=>r.anchorOrigin.vertical==="bottom"&&r.anchorOrigin.horizontal==="left"&&r.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${p.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.leavingScreen})}}]}}),Tr=$.forwardRef(function(n,r){var s,i,g,e,l,a;const u=gr({props:n,name:"MuiBadge"}),{anchorOrigin:B={vertical:"top",horizontal:"right"},className:J,component:K,components:z={},componentsProps:T={},children:Q,overlap:N="rectangular",color:_="default",invisible:X=!1,max:Y=99,badgeContent:I,slots:m,slotProps:v,showZero:D=!1,variant:b="standard"}=u,w=pr(u,Rr),{badgeContent:L,invisible:rr,max:tr,displayValue:or}=Cr({max:Y,invisible:X,badgeContent:I,showZero:D}),nr=q({anchorOrigin:B,color:_,overlap:N,variant:b,badgeContent:I}),S=rr||L==null&&b!=="dot",{color:ar=_,overlap:sr=N,anchorOrigin:ir=B,variant:A=b}=S?nr:u,U=A!=="dot"?or:void 0,O=C({},u,{badgeContent:L,invisible:S,max:tr,displayValue:U,showZero:D,anchorOrigin:ir,color:ar,overlap:sr,variant:A}),W=$r(O),k=(s=(i=m==null?void 0:m.root)!=null?i:z.Root)!=null?s:Br,M=(g=(e=m==null?void 0:m.badge)!=null?e:z.Badge)!=null?g:zr,j=(l=v==null?void 0:v.root)!=null?l:T.root,y=(a=v==null?void 0:v.badge)!=null?a:T.badge,er=F({elementType:k,externalSlotProps:j,externalForwardedProps:w,additionalProps:{ref:r,as:K},ownerState:O,className:V(j==null?void 0:j.className,W.root,J)}),lr=F({elementType:M,externalSlotProps:y,ownerState:O,className:V(W.badge,y==null?void 0:y.className)});return t.jsxs(k,C({},er,{children:[Q,t.jsx(M,C({},lr,{children:U}))]}))}),Nr=ur(t.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),Wr=()=>{const{users:o}=mr(),{notifications:n,markAsRead:r}=vr(),{courses:s}=fr(),i=o.filter(a=>a.role==="student").length,g=o.filter(a=>a.role==="visitor").length,e=n.filter(a=>a.userId==="admin"&&!a.read),l=a=>{r(a)};return t.jsxs(jr,{maxWidth:"lg",sx:{mt:4,mb:4},children:[t.jsxs(h,{container:!0,spacing:3,mb:4,children:[t.jsx(h,{item:!0,xs:12,sm:6,md:3,children:t.jsx(f,{children:t.jsxs(x,{children:[t.jsx(d,{color:"textSecondary",gutterBottom:!0,children:"Total Users"}),t.jsx(d,{variant:"h4",children:o.length})]})})}),t.jsx(h,{item:!0,xs:12,sm:6,md:3,children:t.jsx(f,{children:t.jsxs(x,{children:[t.jsx(d,{color:"textSecondary",gutterBottom:!0,children:"Students"}),t.jsx(d,{variant:"h4",children:i})]})})}),t.jsx(h,{item:!0,xs:12,sm:6,md:3,children:t.jsx(f,{children:t.jsxs(x,{children:[t.jsx(d,{color:"textSecondary",gutterBottom:!0,children:"Visitors"}),t.jsx(d,{variant:"h4",children:g})]})})}),t.jsx(h,{item:!0,xs:12,sm:6,md:3,children:t.jsx(f,{children:t.jsxs(x,{children:[t.jsx(d,{color:"textSecondary",gutterBottom:!0,children:"Active Courses"}),t.jsx(d,{variant:"h4",children:s.filter(a=>a.status==="active").length})]})})})]}),t.jsx(h,{container:!0,spacing:3,children:t.jsx(h,{item:!0,xs:12,md:6,children:t.jsxs(xr,{sx:{p:2,height:"100%"},children:[t.jsx(E,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:t.jsxs(E,{display:"flex",alignItems:"center",children:[t.jsx(Tr,{badgeContent:e.length,color:"error",sx:{mr:1},children:t.jsx(Nr,{})}),t.jsx(d,{variant:"h6",children:"System Notifications"})]})}),t.jsxs(br,{children:[e.map(a=>t.jsxs(Or.Fragment,{children:[t.jsx(H,{button:!0,onClick:()=>l(a.id),children:t.jsx(Z,{primary:a.title,secondary:`${a.message} - ${new Date(a.createdAt).toLocaleString()}`})}),t.jsx(yr,{component:"li"})]},a.id)),e.length===0&&t.jsx(H,{children:t.jsx(Z,{primary:"No new notifications"})})]})]})})})]})};export{Wr as default};
