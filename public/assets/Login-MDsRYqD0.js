import{u as h,a as f,r as o,j as e,B as i,P as g,T as m,b as v,L as w}from"./index-z0K9aNkG.js";import{C as j}from"./Container-BImiuYkV.js";import{A as d,S as y}from"./Snackbar-BH0trEap.js";import{T as c}from"./TextField-B85Xz2xy.js";import{L as S}from"./Link-sF26ZLWk.js";import"./useThemeProps-DBuWnIrX.js";import"./useSlot-XS7t6U-k.js";import"./useId-CEkL0nOO.js";const W=()=>{h();const{login:u}=f(),[r,n]=o.useState({email:"",password:""}),[t,s]=o.useState(""),[p,l]=o.useState(!1),x=async a=>{if(a.preventDefault(),s(""),!r.email||!r.password){s("Please fill in all fields");return}if(!r.email.includes("@")){s("Please enter a valid email address");return}try{await u(r.email,r.password),l(!0)}catch{s("Invalid email or password")}};return e.jsxs(j,{component:"main",maxWidth:"xs",children:[e.jsx(i,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsxs(g,{elevation:3,sx:{p:4,width:"100%"},children:[e.jsx(m,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"Sign in"}),t&&e.jsx(d,{severity:"error",sx:{mb:2},children:t}),e.jsxs(i,{component:"form",onSubmit:x,sx:{mt:1},children:[e.jsx(c,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:r.email,onChange:a=>n({...r,email:a.target.value}),error:!!t&&!r.email,helperText:"Use 'admin@example.com' for admin, 'student@example.com' for student, or any other email for visitor"}),e.jsx(c,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:r.password,onChange:a=>n({...r,password:a.target.value}),error:!!t&&!r.password}),e.jsx(v,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),e.jsx(i,{sx:{textAlign:"center"},children:e.jsxs(m,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",e.jsx(S,{component:w,to:"/register",variant:"body2",children:"Register here"})]})})]})]})}),e.jsx(y,{open:p,autoHideDuration:3e3,onClose:()=>l(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(d,{severity:"success",sx:{width:"100%"},children:"Login successful! Redirecting..."})})]})};export{W as default};
